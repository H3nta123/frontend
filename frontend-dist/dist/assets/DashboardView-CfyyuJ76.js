import{d as y,u as k,m as V,B as D,c as z,w as o,a as e,b as t,y as m,v as x,C as a,e as p,f as i,n as r,D as u,s as b,j as S,g as A,V as C,A as B,o as f}from"./index-BaQgaqTq.js";import{M as j}from"./MainLayout-cmQcMttl.js";import{s as v}from"./sites-CZD5WQuG.js";import{_ as E}from"./_plugin-vue_export-helper-C_lUuKz4.js";const I={class:"welcome-banner rounded-xl px-8 py-10 mb-8 d-flex align-center justify-space-between text-white elevation-4"},M={class:"text-h4 font-weight-bold mb-2"},N={class:"text-h5 font-weight-bold"},R={class:"text-h6 font-weight-bold ml-0"},T={key:0,class:"text-green-darken-1"},L={key:1,class:"text-orange-darken-3"},$={class:"d-flex h-100"},q={class:"pa-6 d-flex flex-column justify-center",style:{flex:"1"}},F={class:"d-flex align-center mb-3"},G={class:"d-flex align-center text-indigo font-weight-bold"},H={class:"bg-indigo-lighten-5 d-none d-sm-flex align-center justify-center",style:{width:"160px"}},J=y({__name:"DashboardView",setup(K){const c=B(),g=k(),d=V(null),_=async()=>{try{const s=(await v.getDashboard()).sites||[];d.value=s.find(n=>n.is_active||n.active)}catch(l){console.error("Error checking store status",l)}};D(()=>{_()});const w=async()=>{try{const n=((await v.getDashboard()).sites||[]).find(h=>h.is_active||h.active);n?c.push(`/builder?storeId=${n.id}`):c.push("/stores")}catch(l){console.error("Error checking sites",l),c.push("/stores")}};return(l,s)=>(f(),z(j,null,{default:o(()=>[e(C,{fluid:"",class:"pa-0 mw-1200"},{default:o(()=>[t("div",I,[t("div",null,[t("h1",M,"Добро пожаловать, "+m(x(g).user?.name||"Предприниматель")+"!",1),s[0]||(s[0]=t("p",{class:"text-body-1 opacity-90",style:{"max-width":"600px"}}," Управляйте своим магазином, следите за продажами и развивайте бизнес в одном месте. ",-1))]),e(a,{icon:"mdi-rocket-launch-outline",size:"120",class:"opacity-20 hidden-sm-and-down"})]),e(p,{class:"mb-4"},{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(r,{class:"rounded-xl border pa-4 h-100 d-flex align-center",flat:""},{default:o(()=>[e(u,{color:"indigo-lighten-5",size:"56",class:"mr-4 rounded-lg"},{default:o(()=>[e(a,{icon:"mdi-wallet",color:"#2A1A8E",size:"32"})]),_:1}),t("div",null,[s[1]||(s[1]=t("div",{class:"text-caption text-grey font-weight-bold"},"ВАШ БАЛАНС",-1)),t("div",N,m(x(g).user?.balance||0)+" ₽",1)])]),_:1})]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(r,{class:"rounded-xl border pa-4 h-100 d-flex align-center",flat:""},{default:o(()=>[e(u,{color:d.value?"green-lighten-5":"orange-lighten-5",size:"56",class:"mr-4 rounded-lg"},{default:o(()=>[e(a,{icon:"mdi-store",color:d.value?"green-darken-2":"orange-darken-3",size:"32"},null,8,["color"])]),_:1},8,["color"]),t("div",null,[s[2]||(s[2]=t("div",{class:"text-caption text-grey font-weight-bold"},"СТАТУС МАГАЗИНА",-1)),t("div",R,[d.value?(f(),b("span",T,"Активен")):(f(),b("span",L,"Не активен"))])])]),_:1})]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(r,{class:"rounded-xl border pa-4 h-100 d-flex align-center",flat:""},{default:o(()=>[e(u,{color:"orange-lighten-5",size:"56",class:"mr-4 rounded-lg"},{default:o(()=>[e(a,{icon:"mdi-package-variant-closed",color:"orange-darken-3",size:"32"})]),_:1}),s[3]||(s[3]=t("div",null,[t("div",{class:"text-caption text-grey font-weight-bold"},"НОВЫЕ ЗАКАЗЫ"),t("div",{class:"text-h5 font-weight-bold"},"0")],-1))]),_:1})]),_:1})]),_:1}),s[8]||(s[8]=t("h2",{class:"text-h5 font-weight-bold mb-4 mt-4"},"Быстрые действия",-1)),e(p,null,{default:o(()=>[e(i,{cols:"12",md:"6"},{default:o(()=>[e(r,{class:"rounded-xl border pa-0 h-100 cursor-pointer hover-scale overflow-hidden",flat:"",onClick:w},{default:o(()=>[t("div",$,[t("div",q,[t("div",F,[e(S,{color:"indigo-lighten-5",width:"40",height:"40",rounded:"",class:"d-flex align-center justify-center mr-3"},{default:o(()=>[e(a,{icon:"mdi-palette",color:"#2A1A8E"})]),_:1}),s[4]||(s[4]=t("span",{class:"text-overline text-indigo font-weight-bold"},"Конструктор",-1))]),s[6]||(s[6]=t("h3",{class:"text-h5 font-weight-bold mb-2"},"Редактировать магазин",-1)),s[7]||(s[7]=t("p",{class:"text-body-2 text-grey-darken-1 mb-4"},"Настройте дизайн, добавьте товары и управляйте контентом вашего сайта.",-1)),t("div",G,[s[5]||(s[5]=A(" Перейти в конструктор ",-1)),e(a,{icon:"mdi-arrow-right",class:"ml-2",size:"small"})])]),t("div",H,[e(a,{icon:"mdi-monitor-dashboard",size:"80",color:"indigo-lighten-3"})])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),W=E(J,[["__scopeId","data-v-0398a061"]]);export{W as default};
